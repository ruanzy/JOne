<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<sql id='count'>
		select count(*) from users left join depart
		on users.depart = depart.id
		<where>
			<if test="username != null and username != ''">
				and username like CONCAT('%',#{username},'%')
			</if>
			<if test="state != null and state != ''">
				and state=#{state}
			</if>
		</where>
	</sql>
	<sql id='selectAll'>
		select users.*, depart.name as departname from users left join depart
		on users.depart = depart.id
		<where>
			<if test="username != null and username != ''">
				and username like CONCAT('%',#{username},'%')
			</if>
			<if test="state != null and state != ''">
				and state=#{state}
			</if>
		</where>
		order by users.id desc
	</sql>
	<sql id='add'>
		insert into users(id,username,pwd,regtime) values(#{id},#{username},#{pwd},#{regtime})
	</sql>
</sqls>