<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>div</title>
<script type="text/javascript" src='js/jquery-1.11.0.min.js'></script>
<script type="text/javascript" src='js/jsrender.js'></script>
<script type="text/javascript" src='js/jquery.pagination-1.2.3.js'></script>

<style>
li {
	height: 20px;
}
</style>
</head>

<body>

	<input name='username' id='username' />
	<button id='search'>search</button>
	<div id="result"></div>
	<div id="res"></div>
	<div id="page" class="m-pagination"></div>

	<div id="div1"
		style="overflow-y:auto; overflow-x:hidden; height:200px;border:1px solid red;">
		<ul id='c' style="height:400px;margin:0;padding:0;">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
			<li>11</li>
			<li>12</li>
			<li>13</li>
			<li>14</li>
			<li>15</li>
			<li>16</li>
			<li>17</li>
			<li>18</li>
			<li>19</li>
			<li>20</li>
		</ul>
	</div>



	<script id="personTmpl" type="text/x-jsrender">
 <table class='table' width=100% border=1><thead>
<tr><th>Name</th><th>Gender</th><th>Birth</th><th>regtime</th><th>email</th><th>phone</th><th>state</th></tr></thead>
<tbody>
{{for data}}    
	<tr>
<td>{{:username}}</td>
<td>
{{if gender==1}} 
男
{{/if}}
{{if gender==2}} 
女
{{/if}}
</td>
<td>{{:birth}}</td><td>{{:regtime}}</td><td>{{:email}}</td><td>{{:phone}}</td>
<td>
{{if state=="1"}} 
<label class='label label-success'>正常</label>
{{/if}}
{{if state=="0"}} 
<label class='label label-warn'>正常</label>
{{/if}}
</td>
</tr>
{{/for}}
  </tbody>
</table>
</script>
	<script type="text/javascript">
	
	function getData(p){
		var start = p*10 + 1;
		var end = (p + 1)*10;
		var res = [];
		for(var k=start;k<=end;k++){
			res.push('<li>' + k + '</li>');
		}
		return res.join('');
	}
	var p =2;
		$(function() {

			var nScrollHight = 0; //滚动距离总长(注意不是滚动条的长度)
			var nScrollTop = 0; //滚动到的当前位置
			var nDivHight = $("#div1").height();
			$("#div1").scroll(function() {
				nScrollHight = $(this)[0].scrollHeight;
				nScrollTop = $(this)[0].scrollTop;
				if (nScrollTop + nDivHight >= nScrollHight){
					if(p<10){
						$("#c").append(getData(p++));
					}
				}
					
			});

		});
	</script>
</body>
</html>